<!doctype html>

<title>Browser Matrix</title>
<link rel="stylesheet" href="./stylesheets/base.css">

<header>
  <h1>Browser Matrix</h1>

  <div class="account-options">
    <label for="account">Account:</label>
    <select id="account" name="account" disabled="disabled">
      <option>Select account</option>
    </select>

    <label for="property">Property:</label>
    <select id="property" name="property" disabled="disabled">
      <option>Select property</option>
    </select>

    <label for="profile">Profile:</label>
    <select id="profile" name="profile" disabled="disabled">
      <option>Select profile</option>
    </select>
  </div>
  <div class="page-options">
    <label for="period">Period:</label>
    <select id="period" name="period">
      <option value="3">3 days</option>
      <option value="7" selected>7 days</option>
      <option value="14">14 days</option>
      <option value="30">30 days</option>
    </select>

    <label for="lines">Graph</label>
    <select id="lines" name="lines">
      <option value="5">5 browsers</option>
      <option value="10">10 browsers</option>
      <option value="15" selected>15 browsers</option>
      <option value="20">20 browsers</option>
      <option value="25">25 browsers</option>
    </select>
  </div>
</header>
<div id="graph"></div>
<div id="wrapper"></div>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="javascripts/vendor/mustache.js"></script>

<script src="javascripts/auth.js"></script>
<script src="javascripts/browsers.js"></script>
<script src="javascripts/graph.js"></script>
<script src="javascripts/template.js"></script>
<script src="javascripts/user.js"></script>

<script src="javascripts/manager.js"></script>


<script>
  if(typeof window.matrix === 'undefined'){ window.matrix = {}; }

  matrix.settings = {
    auth: {
      response_type: 'token',
      client_id: '19637567954.apps.googleusercontent.com',
      redirect_uri: window.location.href,
      scope: 'https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/analytics.readonly',
      state: '',
      approval_prompt: 'auto'
    }
  };

  matrix.manager.init();
</script>
<script type="text/mustache" id="select-options">
  <option value="">Select {{object}}</option>
  {{#options}}
    <option value="{{id}}">{{name}}</option>
  {{/options}}
</script>
<script type="text/mustache" id="browser-table">
  <table>
    <thead>
      <tr>
        <th>OS</th>
        <th>Browser</th>
        <th>Version</th>
        {{#days}}
          <th>{{.}}</th>
        {{/days}}
      </tr>
    </thead>
    <tbody>
      {{#results}}
        <tr>
          <td>{{os}}</td>
          <td>{{browser}}</td>
          <td>{{version}}</td>
          {{#days}}
            <td>{{.}}%</td>
          {{/days}}
        </tr>
      {{/results}}
    </tbody>
  </table>
</script>
